{"version":3,"sources":["context/context.js","components/SearchBar/PlacesAutocomplete.js","components/SearchBar/SearchBar.js","components/Business/Business.js","components/BusinessList/BusinessList.js","pages/Home/Home.js","components/Carousel/Carousel.js","pages/BusinessPage/BusinessPage.js","context/reducer.js","context/state.js","App.js","index.js"],"names":["emailContext","createContext","PlacesAutocompleteInput","forwardRef","props","ref","useState","address","setAddress","value","onChange","onSelect","getInputProps","suggestions","getSuggestionItemProps","loading","placeholder","className","map","suggestion","index","active","style","backgroundColor","cursor","description","SearchBar","initialRender","useRef","useContext","context","sortBy","setSortBy","term","setTerm","location","setLocation","setError","getPlaces","businessTypeInput","createRef","businessLocationInput","sortByOptions","BestMatch","HighestRated","MostReviewed","getSortByClass","sortByOption","handleSortByChange","e","target","dataset","useEffect","current","console","log","onSubmit","preventDefault","split","Object","keys","sortByOptionValue","data-value","onClick","PlacesAutocomplete","type","Business","place","src","image_url","alt","display","alignItems","justifyContent","to","id","name","color","rating","review_count","price","categories","cat","length","title","display_address","BusinessList","places","Home","error","page","setPage","textTransform","CarouselComponent","photos","showThumbs","photo","backgroundImage","BusinessPage","useParams","getPlace","gurl","setGurl","join","routerHistory","useHistory","goBack","marginRight","hours","is_open_now","undefined","phone","width","height","frameBorder","SET_PLACE","SET_PLACES","SET_ERROR","SET_TERM","SET_LOCATION","SET_SORT_BY","SET_PAGE","CLEAR_PLACES","state","action","payload","State","useReducer","reducer","page_size","dispatch","a","offset","url","fetch","mode","response","json","jsonResponse","businesses","forEach","item","str","Provider","num","children","App","path","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.c5f137ed.chunk.js","sourcesContent":["import { createContext } from \"react\";\r\n\r\nconst emailContext = createContext();\r\n\r\nexport default emailContext;\r\n","import React, { useState } from \"react\";\r\nimport PlacesAutocomplete from \"react-places-autocomplete\";\r\nimport { forwardRef } from \"react/cjs/react.production.min\";\r\n\r\n// export default function PlacesAutocompleteInput() {\r\nconst PlacesAutocompleteInput = forwardRef((props, ref) => {\r\n  const [address, setAddress] = useState(\"\");\r\n\r\n  return (\r\n    <PlacesAutocomplete\r\n      value={address}\r\n      onChange={setAddress}\r\n      onSelect={setAddress}\r\n    >\r\n      {({ getInputProps, suggestions, getSuggestionItemProps, loading }) => (\r\n        <div>\r\n          <input\r\n            ref={ref}\r\n            {...getInputProps({\r\n              placeholder: \"Search Places ...\",\r\n              className: \"location-search-input\",\r\n              \r\n            })}\r\n          />\r\n          <div className=\"autocomplete-dropdown-container\">\r\n            {loading && <div>Loading...</div>}\r\n            {suggestions.map((suggestion, index) => {\r\n              const className = suggestion.active\r\n                ? \"suggestion-item--active\"\r\n                : \"suggestion-item\";\r\n              // inline style for demonstration purpose\r\n              const style = suggestion.active\r\n                ? { backgroundColor: \"#fafafa\", cursor: \"pointer\" }\r\n                : { backgroundColor: \"#ffffff\", cursor: \"pointer\" };\r\n              return (\r\n                <div\r\n                key={index}\r\n                  {...getSuggestionItemProps(suggestion, {\r\n                    className,\r\n                    style,\r\n                  })}\r\n                >\r\n                  <div className=\"place-suggestion\">{suggestion.description}</div>\r\n                </div>\r\n              );\r\n            })}\r\n          </div>\r\n        </div>\r\n      )}\r\n    </PlacesAutocomplete>\r\n  );\r\n});\r\n\r\nexport default PlacesAutocompleteInput;\r\n","import React, { useContext, useEffect, useRef } from \"react\";\r\nimport { createRef, forwardRef } from \"react/cjs/react.production.min\";\r\nimport \"./SearchBar.css\";\r\nimport context from \"../../context/context\";\r\nimport PlacesAutocompleteInput from \"./PlacesAutocomplete\";\r\n\r\nexport default function SearchBar() {\r\n  // const [sortBy, setSortBy] = useState(\"best_match\");\r\n  const initialRender = useRef(true);\r\n  const {\r\n    sortBy,\r\n    setSortBy,\r\n    term,\r\n    setTerm,\r\n    location,\r\n    setLocation,\r\n    setError,\r\n    getPlaces,\r\n  } = useContext(context);\r\n\r\n  // const PlacesAutocompleteInputWithRef = forwardRef((props, ref) => (\r\n  //   <PlacesAutocompleteInput ref={ref} />\r\n  // ));\r\n\r\n  let businessTypeInput = createRef();\r\n  let businessLocationInput = createRef();\r\n\r\n  let sortByOptions = {\r\n    BestMatch: \"best_match\",\r\n    HighestRated: \"rating\",\r\n    MostReviewed: \"review_count\",\r\n  };\r\n\r\n  const getSortByClass = (sortByOption) => {\r\n    return sortBy === sortByOption ? \"active\" : \"\";\r\n  };\r\n  const handleSortByChange = (e) => {\r\n    setSortBy(e.target.dataset.value);\r\n  };\r\n  const handleSearch = (e) => {\r\n    e.preventDefault();\r\n    if (businessTypeInput.current.value !== \"\" && businessLocationInput.current.value !== \"\") {\r\n      setTerm(businessTypeInput.current.value);\r\n      setLocation(businessLocationInput.current.value.split(',')[0]);\r\n    } else {\r\n      setError(\"Please type in search terms and try again\");\r\n    }\r\n    \r\n  };\r\n\r\n  useEffect(() => {\r\n    if (initialRender.current) {\r\n      initialRender.current = false;\r\n      return;\r\n    }\r\n    // if (term !== \"\" && location !== \"\") {\r\n    //   getPlaces();\r\n    // } else {\r\n      \r\n    // }\r\n    console.log('term', term)\r\n    console.log('location', location)\r\n    getPlaces();\r\n  }, [term, location, sortBy]);\r\n\r\n  const renderSortByOptions = () => {\r\n    return Object.keys(sortByOptions).map((sortByOption) => {\r\n      let sortByOptionValue = sortByOptions[sortByOption];\r\n      return (\r\n        <li\r\n          className={getSortByClass(sortByOptionValue)}\r\n          key={sortByOptionValue}\r\n          data-value={sortByOptionValue}\r\n          onClick={handleSortByChange}\r\n        >\r\n          {sortByOption}\r\n        </li>\r\n      );\r\n    });\r\n  };\r\n\r\n  return (\r\n    <div className=\"SearchBar\">\r\n      <form onSubmit={handleSearch}>\r\n        <div className=\"SearchBar-sort-options\">\r\n          <ul>{renderSortByOptions(sortByOptions)}</ul>\r\n        </div>\r\n        <div className=\"SearchBar-fields\">\r\n          <input\r\n            // onChange={handleTermChange}\r\n            ref={businessTypeInput}\r\n            // placeholder=\"Search Businesses\"\r\n            placeholder=\"Search Businesses\"\r\n          />\r\n          {/* <input\r\n            // onChange={handleLocationChange}\r\n            ref={businessLocationInput}\r\n            placeholder=\"Where?\"\r\n          /> */}\r\n          <PlacesAutocompleteInput ref={businessLocationInput}/>\r\n        </div>\r\n        <div className=\"SearchBar-submit\">\r\n          <button type=\"submit\" >Let's Go</button>\r\n        </div>\r\n      </form>\r\n    </div>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport \"./Business.css\";\r\nimport { AiFillStar } from \"react-icons/ai\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nexport default function Business({ place }) {\r\n  return (\r\n    <div className=\"business\">\r\n      <div className=\"image-container\">\r\n        <img src={place.image_url} alt=\"\" />\r\n      </div>\r\n      <div\r\n        style={{\r\n          display: \"flex\",\r\n          alignItems: \"center\",\r\n          justifyContent: \"space-between\",\r\n        }}\r\n      >\r\n        <Link className=\"business-name\" to={`/placeniffer/business/${place.id}`}>\r\n          <h2>{place.name}</h2>\r\n        </Link>\r\n        <div style={{ display: \"flex\", color: \"green\" }}>\r\n          <span>{place.rating}</span>\r\n          <span>\r\n            <AiFillStar />\r\n          </span>\r\n        </div>\r\n      </div>\r\n      <div className=\"business-information\">\r\n        <div className=\"business-information-top\">\r\n          {place.review_count > 1 ? (\r\n            <span>\r\n              {place.review_count} <b>reviews</b>\r\n            </span>\r\n          ) : (\r\n            <span>\r\n              {place.review_count} <b>review</b>\r\n            </span>\r\n          )}\r\n          <span style={{ color: \"green\" }}>{place.price}</span>\r\n        </div>\r\n        <div className=\"business-address\">\r\n          <p>\r\n            <b>category:</b>{\" \"}\r\n            {place.categories.map((cat, index) =>\r\n              place.categories.length - 1 === index ? (\r\n                <span key={index}>{cat.title}</span>\r\n              ) : (\r\n                <span key={index}>{`${cat.title}, `}</span>\r\n              )\r\n            )}\r\n          </p>\r\n          <p>\r\n            <b>address:</b> {place.location.display_address[0]}\r\n          </p>\r\n          <p>\r\n            <b>city:</b> {place.location.display_address[1]}\r\n          </p>\r\n          <p>\r\n            <b>state:</b> {place.location.display_address[2]}\r\n          </p>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport \"./BusinessList.css\";\r\nimport Business from \"../Business/Business.js\";\r\n\r\nfunction BusinessList({places}) {\r\n  return (\r\n    <div className=\"BusinessList\">\r\n      {places.map((place) => {\r\n        return <Business place={place} key={place.id} />;\r\n      })}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default BusinessList;\r\n","import React, { useEffect, useRef, useContext } from \"react\";\r\nimport \"./Home.css\";\r\nimport SearchBar from \"../../components/SearchBar/SearchBar\";\r\nimport BusinessList from \"../../components/BusinessList/BusinessList\";\r\nimport context from \"../../context/context\";\r\n\r\nexport default function Home() {\r\n  const { error, term, location, page, setPage, getPlaces, places } = useContext(context);\r\n  const initialRender = useRef(true);\r\n\r\n  const handleNextPage = () => {\r\n    setPage(page + 1);\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (initialRender.current) {\r\n      initialRender.current = false;\r\n      return;\r\n    }\r\n    getPlaces();\r\n  }, [page]);\r\n\r\n  return (\r\n    <div className=\"HomePage\">\r\n      <h1>placeniffer</h1>\r\n      <SearchBar />\r\n      <div className=\"homepage-info\">\r\n        <div>\r\n          {places.length > 0 && (\r\n            <p>\r\n              {`Result for: ${term} in `}\r\n              <span\r\n                style={{ textTransform: \"capitalize\" }}\r\n              >{`${location}`}</span>\r\n            </p>\r\n          )}\r\n        </div>\r\n      </div>\r\n      {places.length > 0 && <BusinessList places={places} />}\r\n\r\n      {places.length > 0 && (\r\n        <div className=\"pagination\">\r\n          <div style={{ cursor: \"pointer\" }} onClick={handleNextPage}>\r\n            Load more...\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      <div className=\"homepage-info\">\r\n        {error !== \"\" && places.length === 0 && <div>{error}</div>}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport \"react-responsive-carousel/lib/styles/carousel.min.css\"; // requires a loader\r\nimport { Carousel } from \"react-responsive-carousel\";\r\nimport \"./Carousel.css\";\r\n\r\nfunction CarouselComponent({photos}) {\r\n  return (\r\n    <Carousel showThumbs={true} className=\"carousel-container\">\r\n      {photos &&\r\n        photos.map((photo, index) => {\r\n          return (\r\n            <div\r\n              key={index}\r\n              className=\"carousel-photo\"\r\n              style={{ backgroundImage: `url(${photo})` }}\r\n              alt=\"main logo\"\r\n            ></div>\r\n          );\r\n        })}\r\n    </Carousel>\r\n  );\r\n}\r\n\r\nexport default CarouselComponent;\r\n","import React, { useEffect, useState, useContext } from \"react\";\r\nimport { useParams, useHistory } from \"react-router-dom\";\r\nimport CarouselComponent from \"../../components/Carousel/Carousel\";\r\nimport \"./BusinessPage.css\";\r\nimport context from \"../../context/context\";\r\nimport { AiFillStar, AiOutlineClockCircle } from \"react-icons/ai\";\r\n\r\nexport default function BusinessPage() {\r\n  let { id } = useParams();\r\n  const { place, getPlace } = useContext(context);\r\n\r\n  // const [business, setBusiness] = useState([]);\r\n  const [gurl, setGurl] = useState(\"\");\r\n\r\n  const gapi = \"AIzaSyAJlieS2MnisIz4mlnFFpvpqfwry-T6bmM\";\r\n\r\n  useEffect(() => {\r\n    getPlace(id);\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    if (place) {\r\n      if (place.location) {\r\n        if (place.location.display_address.length !== 0) {\r\n          const address = place.location.display_address.join();\r\n          setGurl(\r\n            `https://www.google.com/maps/embed/v1/place?key=${gapi}&q=${address}`\r\n          );\r\n        }\r\n      }\r\n    }\r\n  }, [place]);\r\n\r\n  const routerHistory = useHistory();\r\n  \r\n  return (\r\n    <div className=\"businesspage-container\">\r\n      <div className=\"businesspage-header\">\r\n        <button\r\n          className=\"businesspage-back-button\"\r\n          onClick={routerHistory.goBack}\r\n        >\r\n          Back to list\r\n        </button>\r\n      </div>\r\n      {place && (\r\n        <div>\r\n          <div>\r\n            <h2 className=\"businesspage-heading\">{place.name}</h2>\r\n          </div>\r\n          <div className=\"businesspage-cart\">\r\n            <div className=\"businesspage-cart-left\">\r\n              <CarouselComponent photos={place.photos} />\r\n            </div>\r\n            <div className=\"businesspage-cart-right\">\r\n              <div className=\"businesspage-rating-container\">\r\n                <div\r\n                  style={{\r\n                    display: \"flex\",\r\n                    color: \"green\",\r\n                    marginRight: \"1rem\",\r\n                  }}\r\n                >\r\n                  <span>{place.rating}</span>\r\n                  <span>\r\n                    <AiFillStar />\r\n                  </span>\r\n                </div>\r\n                <div>\r\n                  {place.review_count > 1 ? (\r\n                    <span>\r\n                      {place.review_count} <b>reviews</b>\r\n                    </span>\r\n                  ) : (\r\n                    <span>\r\n                      {place.review_count} <b>review</b>\r\n                    </span>\r\n                  )}\r\n                </div>\r\n              </div>\r\n              <div className=\"businesspage-devider\"></div>\r\n              {place.hours && <div\r\n                className=\"businesspage-hours\"\r\n              >\r\n                <span\r\n                  style={{\r\n                    marginRight: \"0.5rem\",\r\n                    color: place.hours[0].is_open_now ? \"green\" : \"red\",\r\n                  }}\r\n                >\r\n                  <AiOutlineClockCircle />\r\n                </span>\r\n                <span>{place.hours[0].is_open_now ? \"Open\" : \"Closed\"}</span>\r\n              </div>}\r\n              {place.price !== undefined && (\r\n                <div className=\"businesspage-text\">{`Price: ${place.price}`}</div>\r\n              )}\r\n\r\n              {place.categories && (\r\n                <div className=\"businesspage-cats\">\r\n                  <span className=\"businesspage-text text-heading\">\r\n                    Categories:{\"\\u00A0\"}\r\n                  </span>\r\n                  {place.categories.map((cat, index) =>\r\n                    place.categories.length - 1 === index ? (\r\n                      <span className=\"businesspage-text\" key={index}>\r\n                        {cat.title}\r\n                      </span>\r\n                    ) : (\r\n                      <span\r\n                        className=\"businesspage-text\"\r\n                        key={index}\r\n                      >{`${cat.title} ,`}</span>\r\n                    )\r\n                  )}\r\n                </div>\r\n              )}\r\n\r\n              <div className=\"businesspage-text\">\r\n                <div>\r\n                  <span className=\"businesspage-text text-heading\">\r\n                    Phone:{\"\\u00A0\"}\r\n                  </span>\r\n                  {place.phone}\r\n                </div>\r\n              </div>\r\n\r\n              <div className=\"businesspage-text\">\r\n                {/* <div>{`Address: ${place.location.display_address.join()}`}</div> */}\r\n                <div>\r\n                  <span className=\"businesspage-text text-heading\">\r\n                    Address:{\"\\u00A0\"}\r\n                  </span>\r\n                  {place.location.display_address.join(\", \")}\r\n                </div>\r\n              </div>\r\n              <iframe\r\n                title=\"map\"\r\n                width=\"100%\"\r\n                height=\"50%\"\r\n                frameBorder=\"0\"\r\n                src={gurl}\r\n              ></iframe>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n","export const SET_PLACE = \"SET_PLACE\";\r\nexport const SET_PLACES = \"SET_PLACES\";\r\nexport const SET_ERROR = \"SET_ERROR\";\r\nexport const SET_TERM = \"SET_TERM\";\r\nexport const SET_LOCATION = \"SET_LOCATION\";\r\nexport const SET_SORT_BY = \"SET_SORT_BY\";\r\nexport const SET_PAGE = \"SET_PAGE\";\r\nexport const CLEAR_PLACES = \"CLEAR_PLACES\";\r\n  \r\n  export default (state, action) => {\r\n    switch (action.type) {\r\n      case SET_PLACES:\r\n        return {\r\n          ...state,\r\n          places: [...state.places, action.payload],\r\n          loading: false,\r\n        };\r\n  \r\n      case SET_PLACE:\r\n        return {\r\n          ...state,\r\n          place: action.payload,\r\n        };\r\n      case SET_ERROR:\r\n        return {\r\n          ...state,\r\n          error: action.payload,\r\n        };\r\n      case SET_TERM:\r\n        return {\r\n          ...state,\r\n          term: action.payload,\r\n        };\r\n      case SET_LOCATION:\r\n        return {\r\n          ...state,\r\n          location: action.payload,\r\n        };\r\n      case SET_SORT_BY:\r\n        return {\r\n          ...state,\r\n          sortBy: action.payload,\r\n        };\r\n      case SET_PAGE:\r\n        return {\r\n          ...state,\r\n          page: action.payload,\r\n        };\r\n        case CLEAR_PLACES: {\r\n            return {\r\n              ...state,\r\n              places: [],\r\n            };\r\n          }\r\n  \r\n    }\r\n  };\r\n  ","import React, { useReducer } from \"react\";\r\nimport context from \"./context\";\r\nimport reducer from \"./reducer\";\r\nimport {\r\n  SET_PLACE,\r\n  SET_PLACES,\r\n  SET_ERROR,\r\n  SET_TERM,\r\n  SET_LOCATION,\r\n  SET_SORT_BY,\r\n  SET_PAGE,\r\n  CLEAR_PLACES,\r\n} from \"./reducer\";\r\n\r\nconst State = (props) => {\r\n  const initialState = {\r\n    places: [],\r\n    place: null,\r\n    loading: false,\r\n    term: \"\",\r\n    location: \"\",\r\n    sortBy: \"best_match\",\r\n    error: \"\",\r\n    page: 0,\r\n    page_size: 12,\r\n  };\r\n\r\n  const [state, dispatch] = useReducer(reducer, initialState);\r\n\r\n  // Get Messages\r\n  const getPlaces = async () => {\r\n    const offset = state.page * state.page_size;\r\n    const url = `https://placeniffer.herokuapp.com/searchYelp/?term=${state.term}&location=${state.location}&sortby=${state.sortBy}&limit=${state.page_size}&offset=${offset}`;\r\n    console.log('url', url)\r\n    let response = await fetch(url, { mode: \"cors\" });\r\n\r\n    let jsonResponse = await response.json();\r\n\r\n    if (jsonResponse.error) {\r\n      setError(jsonResponse.error.description);\r\n    }\r\n\r\n    if (jsonResponse.businesses) {\r\n      if (jsonResponse.businesses.length !== 0) {\r\n        jsonResponse.businesses.forEach((item) => {\r\n          dispatch({\r\n            type: SET_PLACES,\r\n            payload: item,\r\n          });\r\n        });\r\n      } else {\r\n        setError(\"Nothing found\");\r\n      }\r\n    }\r\n  };\r\n\r\n  // Get Message\r\n  const getPlace = async (id) => {\r\n    const url = `https://placeniffer.herokuapp.com/searchBusiness/?id=${id}`;\r\n\r\n    let response = await fetch(url, { mode: \"cors\" });\r\n    let jsonResponse = await response.json();\r\n    dispatch({\r\n      type: SET_PLACE,\r\n      payload: jsonResponse,\r\n    });\r\n  };\r\n\r\n  const setError = (str) => dispatch({ type: SET_ERROR, payload: str });\r\n  const setTerm = (str) => {\r\n    if (str === state.term) {\r\n      return;\r\n    } else {\r\n      dispatch({ type: CLEAR_PLACES });\r\n      dispatch({ type: SET_TERM, payload: str });\r\n    }\r\n  };\r\n\r\n  const setLocation = (str) => {\r\n    if (str === state.location) {\r\n      return;\r\n    } else {\r\n      dispatch({ type: CLEAR_PLACES });\r\n      dispatch({ type: SET_LOCATION, payload: str });\r\n    }\r\n  };\r\n  const setSortBy = (str) => {\r\n    if (str === state.sortBy) {\r\n      return;\r\n    } else {\r\n      dispatch({ type: CLEAR_PLACES });\r\n      dispatch({ type: SET_SORT_BY, payload: str });\r\n    }\r\n  };\r\n  const setPage = (num) => dispatch({ type: SET_PAGE, payload: num });\r\n\r\n  return (\r\n    <context.Provider\r\n      value={{\r\n        places: state.places,\r\n        place: state.place,\r\n        error: state.error,\r\n        term: state.term,\r\n        location: state.location,\r\n        sortBy: state.sortBy,\r\n        page: state.page,\r\n        page_size: state.page_size,\r\n        getPlaces,\r\n        getPlace,\r\n        setError,\r\n        setTerm,\r\n        setLocation,\r\n        setSortBy,\r\n        setPage,\r\n      }}\r\n    >\r\n      {props.children}\r\n    </context.Provider>\r\n  );\r\n};\r\n\r\nexport default State;\r\n","import React from \"react\";\r\nimport Home from \"./pages/Home/Home\";\r\nimport BusinessPage from \"./pages/BusinessPage/BusinessPage\";\r\nimport { BrowserRouter as Router, Switch, Route } from \"react-router-dom\";\r\n// Import Context\r\nimport State from \"./context/state\";\r\n\r\nfunction App() {\r\n  return (\r\n    <State>\r\n      <Router>\r\n        <Switch>\r\n          <Route path=\"/placeniffer/business/:id\">\r\n            <BusinessPage />\r\n          </Route>\r\n          <Route path=\"/placeniffer\">\r\n            <Home />\r\n          </Route>\r\n        </Switch>\r\n      </Router>\r\n    </State>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n"],"sourceRoot":""}