{"version":3,"sources":["context/context.js","components/SearchBar/SearchBar.js","components/Business/Business.js","components/BusinessList/BusinessList.js","pages/Home/Home.js","components/Carousel/Carousel.js","pages/BusinessPage/BusinessPage.js","context/reducer.js","context/state.js","App.js","index.js"],"names":["emailContext","createContext","SearchBar","initialRender","useRef","useContext","context","sortBy","setSortBy","term","setTerm","location","setLocation","setError","getPlaces","businessTypeInput","createRef","businessLocationInput","sortByOptions","BestMatch","HighestRated","MostReviewed","getSortByClass","sortByOption","handleSortByChange","e","target","dataset","value","useEffect","current","className","onSubmit","preventDefault","Object","keys","map","sortByOptionValue","data-value","onClick","ref","placeholder","type","Business","place","src","image_url","alt","style","display","alignItems","justifyContent","to","id","name","color","rating","review_count","price","categories","cat","index","length","title","display_address","BusinessList","places","Home","error","page","setPage","textTransform","cursor","CarouselComponent","photos","showThumbs","photo","backgroundImage","BusinessPage","useParams","getPlace","useState","gurl","setGurl","address","join","routerHistory","useHistory","goBack","marginRight","hours","is_open_now","undefined","phone","width","height","frameBorder","SET_PLACE","SET_PLACES","SET_ERROR","SET_TERM","SET_LOCATION","SET_SORT_BY","SET_PAGE","CLEAR_PLACES","state","action","payload","loading","State","props","useReducer","reducer","page_size","dispatch","a","offset","url","fetch","mode","response","json","jsonResponse","description","businesses","forEach","item","str","Provider","num","children","App","path","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.885564a1.chunk.js","sourcesContent":["import { createContext } from \"react\";\r\n\r\nconst emailContext = createContext();\r\n\r\nexport default emailContext;\r\n","import React, { useContext, useEffect, useRef } from \"react\";\r\nimport { createRef } from \"react/cjs/react.production.min\";\r\nimport \"./SearchBar.css\";\r\nimport context from \"../../context/context\";\r\n\r\nexport default function SearchBar() {\r\n  // const [sortBy, setSortBy] = useState(\"best_match\");\r\n  const initialRender = useRef(true);\r\n  const {\r\n    sortBy,\r\n    setSortBy,\r\n    term,\r\n    setTerm,\r\n    location,\r\n    setLocation,\r\n    setError,\r\n    getPlaces,\r\n  } = useContext(context);\r\n\r\n  let businessTypeInput = createRef();\r\n  let businessLocationInput = createRef();\r\n\r\n  let sortByOptions = {\r\n    BestMatch: \"best_match\",\r\n    HighestRated: \"rating\",\r\n    MostReviewed: \"review_count\",\r\n  };\r\n\r\n  const getSortByClass = (sortByOption) => {\r\n    return sortBy === sortByOption ? \"active\" : \"\";\r\n  };\r\n  const handleSortByChange = (e) => {\r\n    setSortBy(e.target.dataset.value);\r\n  };\r\n  const handleSearch = (e) => {\r\n    e.preventDefault();\r\n    if (businessTypeInput.current.value !== \"\" && businessLocationInput.current.value !== \"\") {\r\n      setTerm(businessTypeInput.current.value);\r\n      setLocation(businessLocationInput.current.value);\r\n    } else {\r\n      setError(\"Please type in search terms and try again\");\r\n    }\r\n    \r\n  };\r\n\r\n  useEffect(() => {\r\n    if (initialRender.current) {\r\n      initialRender.current = false;\r\n      return;\r\n    }\r\n    // if (term !== \"\" && location !== \"\") {\r\n    //   getPlaces();\r\n    // } else {\r\n      \r\n    // }\r\n    getPlaces();\r\n  }, [term, location, sortBy]);\r\n\r\n  const renderSortByOptions = () => {\r\n    return Object.keys(sortByOptions).map((sortByOption) => {\r\n      let sortByOptionValue = sortByOptions[sortByOption];\r\n      return (\r\n        <li\r\n          className={getSortByClass(sortByOptionValue)}\r\n          key={sortByOptionValue}\r\n          data-value={sortByOptionValue}\r\n          onClick={handleSortByChange}\r\n        >\r\n          {sortByOption}\r\n        </li>\r\n      );\r\n    });\r\n  };\r\n\r\n  return (\r\n    <div className=\"SearchBar\">\r\n      <form onSubmit={handleSearch}>\r\n        <div className=\"SearchBar-sort-options\">\r\n          <ul>{renderSortByOptions(sortByOptions)}</ul>\r\n        </div>\r\n        <div className=\"SearchBar-fields\">\r\n          <input\r\n            // onChange={handleTermChange}\r\n            ref={businessTypeInput}\r\n            // placeholder=\"Search Businesses\"\r\n            placeholder=\"Search Businesses\"\r\n          />\r\n          <input\r\n            // onChange={handleLocationChange}\r\n            ref={businessLocationInput}\r\n            placeholder=\"Where?\"\r\n          />\r\n        </div>\r\n        <div className=\"SearchBar-submit\">\r\n          <button type=\"submit\" >Let's Go</button>\r\n        </div>\r\n      </form>\r\n    </div>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport \"./Business.css\";\r\nimport { AiFillStar } from \"react-icons/ai\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nexport default function Business({ place }) {\r\n  return (\r\n    <div className=\"business\">\r\n      <div className=\"image-container\">\r\n        <img src={place.image_url} alt=\"\" />\r\n      </div>\r\n      <div\r\n        style={{\r\n          display: \"flex\",\r\n          alignItems: \"center\",\r\n          justifyContent: \"space-between\",\r\n        }}\r\n      >\r\n        <Link className=\"business-name\" to={`/business/${place.id}`}>\r\n          <h2>{place.name}</h2>\r\n        </Link>\r\n        <div style={{ display: \"flex\", color: \"green\" }}>\r\n          <span>{place.rating}</span>\r\n          <span>\r\n            <AiFillStar />\r\n          </span>\r\n        </div>\r\n      </div>\r\n      <div className=\"business-information\">\r\n        <div className=\"business-information-top\">\r\n          {place.review_count > 1 ? (\r\n            <span>\r\n              {place.review_count} <b>reviews</b>\r\n            </span>\r\n          ) : (\r\n            <span>\r\n              {place.review_count} <b>review</b>\r\n            </span>\r\n          )}\r\n          <span style={{ color: \"green\" }}>{place.price}</span>\r\n        </div>\r\n        <div className=\"business-address\">\r\n          <p>\r\n            <b>category:</b>{\" \"}\r\n            {place.categories.map((cat, index) =>\r\n              place.categories.length - 1 === index ? (\r\n                <span key={index}>{cat.title}</span>\r\n              ) : (\r\n                <span key={index}>{`${cat.title}, `}</span>\r\n              )\r\n            )}\r\n          </p>\r\n          <p>\r\n            <b>address:</b> {place.location.display_address[0]}\r\n          </p>\r\n          <p>\r\n            <b>city:</b> {place.location.display_address[1]}\r\n          </p>\r\n          <p>\r\n            <b>state:</b> {place.location.display_address[2]}\r\n          </p>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport \"./BusinessList.css\";\r\nimport Business from \"../Business/Business.js\";\r\n\r\nfunction BusinessList({places}) {\r\n  return (\r\n    <div className=\"BusinessList\">\r\n      {places.map((place) => {\r\n        return <Business place={place} key={place.id} />;\r\n      })}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default BusinessList;\r\n","import React, { useEffect, useRef, useContext } from \"react\";\r\nimport \"./Home.css\";\r\nimport SearchBar from \"../../components/SearchBar/SearchBar\";\r\nimport BusinessList from \"../../components/BusinessList/BusinessList\";\r\nimport context from \"../../context/context\";\r\n\r\nexport default function Home() {\r\n  const { error, term, location, page, setPage, getPlaces, places } = useContext(context);\r\n  const initialRender = useRef(true);\r\n\r\n  const handleNextPage = () => {\r\n    setPage(page + 1);\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (initialRender.current) {\r\n      initialRender.current = false;\r\n      return;\r\n    }\r\n    getPlaces();\r\n  }, [page]);\r\n\r\n  return (\r\n    <div className=\"HomePage\">\r\n      <h1>placeniffer</h1>\r\n      <SearchBar />\r\n      <div className=\"homepage-info\">\r\n        <div>\r\n          {places.length > 0 && (\r\n            <p>\r\n              {`Result for: ${term} in `}\r\n              <span\r\n                style={{ textTransform: \"capitalize\" }}\r\n              >{`${location}`}</span>\r\n            </p>\r\n          )}\r\n        </div>\r\n      </div>\r\n      {places.length > 0 && <BusinessList places={places} />}\r\n\r\n      {places.length > 0 && (\r\n        <div className=\"pagination\">\r\n          <div style={{ cursor: \"pointer\" }} onClick={handleNextPage}>\r\n            Load more...\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      <div className=\"homepage-info\">\r\n        {error !== \"\" && places.length === 0 && <div>{error}</div>}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport \"react-responsive-carousel/lib/styles/carousel.min.css\"; // requires a loader\r\nimport { Carousel } from \"react-responsive-carousel\";\r\nimport \"./Carousel.css\";\r\n\r\nfunction CarouselComponent({photos}) {\r\n  return (\r\n    <Carousel showThumbs={true} className=\"carousel-container\">\r\n      {photos &&\r\n        photos.map((photo, index) => {\r\n          return (\r\n            <div\r\n              key={index}\r\n              className=\"carousel-photo\"\r\n              style={{ backgroundImage: `url(${photo})` }}\r\n              alt=\"main logo\"\r\n            ></div>\r\n          );\r\n        })}\r\n    </Carousel>\r\n  );\r\n}\r\n\r\nexport default CarouselComponent;\r\n","import React, { useEffect, useState, useContext } from \"react\";\r\nimport { useParams, useHistory } from \"react-router-dom\";\r\nimport CarouselComponent from \"../../components/Carousel/Carousel\";\r\nimport \"./BusinessPage.css\";\r\nimport context from \"../../context/context\";\r\nimport { AiFillStar, AiOutlineClockCircle } from \"react-icons/ai\";\r\n\r\nexport default function BusinessPage() {\r\n  let { id } = useParams();\r\n  const { place, getPlace } = useContext(context);\r\n\r\n  // const [business, setBusiness] = useState([]);\r\n  const [gurl, setGurl] = useState(\"\");\r\n\r\n  const gapi = \"AIzaSyAJlieS2MnisIz4mlnFFpvpqfwry-T6bmM\";\r\n\r\n  useEffect(() => {\r\n    getPlace(id);\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    if (place) {\r\n      if (place.location) {\r\n        if (place.location.display_address.length !== 0) {\r\n          const address = place.location.display_address.join();\r\n          setGurl(\r\n            `https://www.google.com/maps/embed/v1/place?key=${gapi}&q=${address}`\r\n          );\r\n        }\r\n      }\r\n    }\r\n  }, [place]);\r\n\r\n  const routerHistory = useHistory();\r\n  \r\n  return (\r\n    <div className=\"businesspage-container\">\r\n      <div className=\"businesspage-header\">\r\n        <button\r\n          className=\"businesspage-back-button\"\r\n          onClick={routerHistory.goBack}\r\n        >\r\n          Back to list\r\n        </button>\r\n      </div>\r\n      {place && (\r\n        <div>\r\n          <div>\r\n            <h2 className=\"businesspage-heading\">{place.name}</h2>\r\n          </div>\r\n          <div className=\"businesspage-cart\">\r\n            <div className=\"businesspage-cart-left\">\r\n              <CarouselComponent photos={place.photos} />\r\n            </div>\r\n            <div className=\"businesspage-cart-right\">\r\n              <div className=\"businesspage-rating-container\">\r\n                <div\r\n                  style={{\r\n                    display: \"flex\",\r\n                    color: \"green\",\r\n                    marginRight: \"1rem\",\r\n                  }}\r\n                >\r\n                  <span>{place.rating}</span>\r\n                  <span>\r\n                    <AiFillStar />\r\n                  </span>\r\n                </div>\r\n                <div>\r\n                  {place.review_count > 1 ? (\r\n                    <span>\r\n                      {place.review_count} <b>reviews</b>\r\n                    </span>\r\n                  ) : (\r\n                    <span>\r\n                      {place.review_count} <b>review</b>\r\n                    </span>\r\n                  )}\r\n                </div>\r\n              </div>\r\n              <div className=\"businesspage-devider\"></div>\r\n              {place.hours && <div\r\n                className=\"businesspage-hours\"\r\n              >\r\n                <span\r\n                  style={{\r\n                    marginRight: \"0.5rem\",\r\n                    color: place.hours[0].is_open_now ? \"green\" : \"red\",\r\n                  }}\r\n                >\r\n                  <AiOutlineClockCircle />\r\n                </span>\r\n                <span>{place.hours[0].is_open_now ? \"Open\" : \"Closed\"}</span>\r\n              </div>}\r\n              {place.price !== undefined && (\r\n                <div className=\"businesspage-text\">{`Price: ${place.price}`}</div>\r\n              )}\r\n\r\n              {place.categories && (\r\n                <div className=\"businesspage-cats\">\r\n                  <span className=\"businesspage-text text-heading\">\r\n                    Categories:{\"\\u00A0\"}\r\n                  </span>\r\n                  {place.categories.map((cat, index) =>\r\n                    place.categories.length - 1 === index ? (\r\n                      <span className=\"businesspage-text\" key={index}>\r\n                        {cat.title}\r\n                      </span>\r\n                    ) : (\r\n                      <span\r\n                        className=\"businesspage-text\"\r\n                        key={index}\r\n                      >{`${cat.title} ,`}</span>\r\n                    )\r\n                  )}\r\n                </div>\r\n              )}\r\n\r\n              <div className=\"businesspage-text\">\r\n                <div>\r\n                  <span className=\"businesspage-text text-heading\">\r\n                    Phone:{\"\\u00A0\"}\r\n                  </span>\r\n                  {place.phone}\r\n                </div>\r\n              </div>\r\n\r\n              <div className=\"businesspage-text\">\r\n                {/* <div>{`Address: ${place.location.display_address.join()}`}</div> */}\r\n                <div>\r\n                  <span className=\"businesspage-text text-heading\">\r\n                    Address:{\"\\u00A0\"}\r\n                  </span>\r\n                  {place.location.display_address.join(\", \")}\r\n                </div>\r\n              </div>\r\n              <iframe\r\n                title=\"map\"\r\n                width=\"100%\"\r\n                height=\"50%\"\r\n                frameBorder=\"0\"\r\n                src={gurl}\r\n              ></iframe>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n","export const SET_PLACE = \"SET_PLACE\";\r\nexport const SET_PLACES = \"SET_PLACES\";\r\nexport const SET_ERROR = \"SET_ERROR\";\r\nexport const SET_TERM = \"SET_TERM\";\r\nexport const SET_LOCATION = \"SET_LOCATION\";\r\nexport const SET_SORT_BY = \"SET_SORT_BY\";\r\nexport const SET_PAGE = \"SET_PAGE\";\r\nexport const CLEAR_PLACES = \"CLEAR_PLACES\";\r\n  \r\n  export default (state, action) => {\r\n    switch (action.type) {\r\n      case SET_PLACES:\r\n        return {\r\n          ...state,\r\n          places: [...state.places, action.payload],\r\n          loading: false,\r\n        };\r\n  \r\n      case SET_PLACE:\r\n        return {\r\n          ...state,\r\n          place: action.payload,\r\n        };\r\n      case SET_ERROR:\r\n        return {\r\n          ...state,\r\n          error: action.payload,\r\n        };\r\n      case SET_TERM:\r\n        return {\r\n          ...state,\r\n          term: action.payload,\r\n        };\r\n      case SET_LOCATION:\r\n        return {\r\n          ...state,\r\n          location: action.payload,\r\n        };\r\n      case SET_SORT_BY:\r\n        return {\r\n          ...state,\r\n          sortBy: action.payload,\r\n        };\r\n      case SET_PAGE:\r\n        return {\r\n          ...state,\r\n          page: action.payload,\r\n        };\r\n        case CLEAR_PLACES: {\r\n            return {\r\n              ...state,\r\n              places: [],\r\n            };\r\n          }\r\n  \r\n    }\r\n  };\r\n  ","import React, { useReducer } from \"react\";\r\nimport context from \"./context\";\r\nimport reducer from \"./reducer\";\r\nimport {\r\n  SET_PLACE,\r\n  SET_PLACES,\r\n  SET_ERROR,\r\n  SET_TERM,\r\n  SET_LOCATION,\r\n  SET_SORT_BY,\r\n  SET_PAGE,\r\n  CLEAR_PLACES,\r\n} from \"./reducer\";\r\n\r\nconst State = (props) => {\r\n  const initialState = {\r\n    places: [],\r\n    place: null,\r\n    loading: false,\r\n    term: \"\",\r\n    location: \"\",\r\n    sortBy: \"best_match\",\r\n    error: \"\",\r\n    page: 0,\r\n    page_size: 12,\r\n  };\r\n\r\n  const [state, dispatch] = useReducer(reducer, initialState);\r\n\r\n  // Get Messages\r\n  const getPlaces = async () => {\r\n    const offset = state.page * state.page_size;\r\n    const url = `https://placeniffer.herokuapp.com/searchYelp/?term=${state.term}&location=${state.location}&sortby=${state.sortBy}&limit=${state.page_size}&offset=${offset}`;\r\n\r\n    let response = await fetch(url, { mode: \"cors\" });\r\n\r\n    let jsonResponse = await response.json();\r\n\r\n    if (jsonResponse.error) {\r\n      setError(jsonResponse.error.description);\r\n    }\r\n\r\n    if (jsonResponse.businesses) {\r\n      if (jsonResponse.businesses.length !== 0) {\r\n        jsonResponse.businesses.forEach((item) => {\r\n          dispatch({\r\n            type: SET_PLACES,\r\n            payload: item,\r\n          });\r\n        });\r\n      } else {\r\n        setError(\"Nothing found\");\r\n      }\r\n    }\r\n  };\r\n\r\n  // Get Message\r\n  const getPlace = async (id) => {\r\n    const url = `https://placeniffer.herokuapp.com/searchBusiness/?id=${id}`;\r\n\r\n    let response = await fetch(url, { mode: \"cors\" });\r\n    let jsonResponse = await response.json();\r\n    dispatch({\r\n      type: SET_PLACE,\r\n      payload: jsonResponse,\r\n    });\r\n  };\r\n\r\n  const setError = (str) => dispatch({ type: SET_ERROR, payload: str });\r\n  const setTerm = (str) => {\r\n    if (str === state.term) {\r\n      return;\r\n    } else {\r\n      dispatch({ type: CLEAR_PLACES });\r\n      dispatch({ type: SET_TERM, payload: str });\r\n    }\r\n  };\r\n\r\n  const setLocation = (str) => {\r\n    if (str === state.location) {\r\n      return;\r\n    } else {\r\n      dispatch({ type: CLEAR_PLACES });\r\n      dispatch({ type: SET_LOCATION, payload: str });\r\n    }\r\n  };\r\n  const setSortBy = (str) => {\r\n    if (str === state.sortBy) {\r\n      return;\r\n    } else {\r\n      dispatch({ type: CLEAR_PLACES });\r\n      dispatch({ type: SET_SORT_BY, payload: str });\r\n    }\r\n  };\r\n  const setPage = (num) => dispatch({ type: SET_PAGE, payload: num });\r\n\r\n  return (\r\n    <context.Provider\r\n      value={{\r\n        places: state.places,\r\n        place: state.place,\r\n        error: state.error,\r\n        term: state.term,\r\n        location: state.location,\r\n        sortBy: state.sortBy,\r\n        page: state.page,\r\n        page_size: state.page_size,\r\n        getPlaces,\r\n        getPlace,\r\n        setError,\r\n        setTerm,\r\n        setLocation,\r\n        setSortBy,\r\n        setPage,\r\n      }}\r\n    >\r\n      {props.children}\r\n    </context.Provider>\r\n  );\r\n};\r\n\r\nexport default State;\r\n","import React from \"react\";\r\nimport Home from \"./pages/Home/Home\";\r\nimport BusinessPage from \"./pages/BusinessPage/BusinessPage\";\r\nimport { BrowserRouter as Router, Switch, Route } from \"react-router-dom\";\r\n// Import Context\r\nimport State from \"./context/state\";\r\n\r\nfunction App() {\r\n  return (\r\n    <State>\r\n      <Router>\r\n        <Switch>\r\n          <Route path=\"/placeniffer/business/:id\">\r\n            <BusinessPage />\r\n          </Route>\r\n          <Route path=\"/placeniffer\">\r\n            <Home />\r\n          </Route>\r\n        </Switch>\r\n      </Router>\r\n    </State>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n"],"sourceRoot":""}